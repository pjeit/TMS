<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
{{-- <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script> --}}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="{{ asset('vendor/sweetalert/sweetalert.all.js')}}"></script>

<!-- jQuery -->
<script src="{{asset('assets/plugins/jquery/jquery.min.js')}}"></script>
<!--jQuery UI 1.11 .4-->
<script src="{{asset('assets/plugins/jquery-ui/jquery-ui.min.js')}}">
</script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="{{asset('assets/plugins/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
<!-- ChartJS -->
<script src="{{asset('assets/plugins/chart.js/Chart.min.js')}}"></script>
<!-- Sparkline -->
<script src="{{asset('assets/plugins/sparklines/sparkline.js')}}"></script>
<!-- JQVMap -->
<script src="{{asset('assets/plugins/jqvmap/jquery.vmap.min.js')}}"></script>
<script src="{{asset('assets/plugins/jqvmap/maps/jquery.vmap.usa.js')}}"></script>
<!-- jQuery Knob Chart -->
<script src="{{asset('assets/plugins/jquery-knob/jquery.knob.min.js')}}"></script>
<!-- daterangepicker -->
{{-- <script src="{{asset('assets/plugins/moment/moment.min.js')}}"></script>
<script src="{{asset('assets/plugins/daterangepicker/daterangepicker.js')}}"></script> --}}
<!-- Tempusdominus Bootstrap 4 -->
{{-- <script src="{{asset('assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js')}}"></script> --}}
<!-- Summernote -->
<script src="{{asset('assets/plugins/summernote/summernote-bs4.min.js')}}"></script>
<!-- overlayScrollbars -->
<script src="{{asset('assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js')}}"></script>
<!-- AdminLTE App -->
<script src="{{asset('assets/dist/js/adminlte.js')}}"></script>


<!-- DataTables  & Plugins -->
{{-- coba matiin --}}
<script src="{{asset('assets/plugins/datatables/jquery.dataTables.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-responsive/js/dataTables.responsive.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-responsive/js/responsive.bootstrap4.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-buttons/js/dataTables.buttons.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-buttons/js/buttons.bootstrap4.min.js')}}"></script>
<script src="{{asset('assets/plugins/jszip/jszip.min.js')}}"></script>
<script src="{{asset('assets/plugins/pdfmake/pdfmake.min.js')}}"></script>
<script src="{{asset('assets/plugins/pdfmake/vfs_fonts.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-buttons/js/buttons.html5.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-buttons/js/buttons.print.min.js')}}"></script>
<script src="{{asset('assets/plugins/datatables-buttons/js/buttons.colVis.min.js')}}"></script>

<!-- Bootstrap4 Duallistbox -->
<script src="{{asset('assets/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js')}}"></script>
<!-- Select2 -->
<script src="{{asset('assets/plugins/select2/js/select2.full.min.js')}}"></script>
<script src="{{asset('assets/plugins/bootstrap-switch/js/bootstrap-switch.min.js')}}"></script>
<!-- BS-Stepper -->
<script src="{{asset('assets/plugins/bs-stepper/js/bs-stepper.min.js')}}"></script>
<!-- dropzonejs -->
<script src="{{asset('assets/plugins/dropzone/min/dropzone.min.js')}}"></script>

<!-- Toastr -->
<script src="{{asset('assets/plugins/toastr/toastr.min.js')}}"></script>

<!-- ion slider -->
<script src="{{asset('assets/plugins/ion-rangeslider/js/ion.rangeSlider.js')}}"></script>
<script src="{{asset('assets/plugins/ion-rangeslider/js/ion.rangeSlider.min.js')}}"></script>

<!-- script comboboc-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

{{-- datepicker yang dipakai --}}
{{-- <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script> --}}
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

{{-- Script Format Uang sendiri bawaan program lama --}}
<script src="{{asset('assets/dist/js/formatUang.js')}}"></script>
<script src="{{asset('assets/dist/js/keyPressuang.js')}}"></script>

{{-- script bikin capslock upper case --}}
<script src="{{asset('assets/dist/js/capslock.js')}}"></script>

<script src="{{asset('assets/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js')}}"></script>
<script src="{{asset('assets/plugins/bootstrap-datepicker/datepicker-locale/bootstrap-datepicker.id.min.js')}}"></script>

{{-- multi row grouping datatable --}}
<script src="https://cdn.datatables.net/rowgroup/1.4.0/js/dataTables.rowGroup.min.js"></script>

{{-- qr code generator --}}
<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>


{{-- end custom dropdown bootstrap --}}


<script>
    $('.selectpicker').selectpicker({
      size: 10,
      noneSelectedText: "Tidak ada yang dipilih",
    });

    $('.custom-dropdown').on('show.bs.dropdown', function() {
      // $(this).find('.dropdown-menu').first().stop(false, false).slideDown();
      // $(this).find('.dropdown-menu').addClass('active');
      var that = $(this);
      
      setTimeout(function(){
          that.find('.dropdown-menu').addClass('active');
      }, 100);
    });

    $('.custom-dropdown').on('hide.bs.dropdown', function() {
      $(this).find('.dropdown-menu').removeClass('active');
    });
</script>

<script>
      
    $(function() {
     
      $('.daterange').daterangepicker({
          locale: {
              format: 'dd-M-yyyy'
          }
      });

      var today = new Date();
      $('.date').datepicker({
          autoclose: true,
          format: "dd-M-yyyy",
          todayHighlight: true,
          language:'en',
          orientation: 'bottom auto'
      });
  
      $("#example1").DataTable({
        "responsive": true,
        "lengthChange": false,
        "autoWidth": false,
        "searching": false,
        "ordering": false,
        "paging": false,
        "info": false,
        //"buttons": ["copy", "csv", "excel", "pdf", "print"] 
        // "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
      }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');

      $('#example2').DataTable({
        "paging": true,
        "lengthChange": false,
        "searching": true,
        "ordering": true,
        "info": false,
        "autoWidth": false,
        "responsive": true,
      });

      $("#example3").DataTable({
        "responsive": false,
        "lengthChange": false,
        "autoWidth": false,
        "ordering": false,
        "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
      }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');

      $("#examplePrint").DataTable({
        "buttons": ["excel", "pdf", "print"]
      }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');

      //Initialize Select2 Elements
      $('.select2').select2({
        // dropdownAutoWidth: true,
          // allowClear: true,
            // minimumInputLength:1
      })

      //Initialize Select2 Elements
      $('.select2bs4').select2({
        theme: 'bootstrap4'
      })

      //Bootstrap Duallistbox
      $('.duallistbox').bootstrapDualListbox()

      $("input[data-bootstrap-switch]").each(function() {
        $(this).bootstrapSwitch('state', $(this).prop('checked'));
      })
    });


    // DropzoneJS Demo Code Start
    // Dropzone.autoDiscover = false

    // // Get the template HTML and remove it from the doumenthe template HTML and remove it from the doument
    // var previewNode = document.querySelector("#template")
    // previewNode.id = '';
    // var previewTemplate = previewNode.parentNode.innerHTML;
    // previewNode.parentNode.removeChild(previewNode)

    // var myDropzone = new Dropzone(document.body, { // Make the whole body a dropzone
    //   url: "/target-url", // Set the url
    //   thumbnailWidth: 80,
    //   thumbnailHeight: 80,
    //   parallelUploads: 20,
    //   previewTemplate: previewTemplate,
    //   autoQueue: false, // Make sure the files aren't queued until manually added
    //   previewsContainer: "#previews", // Define the container to display the previews
    //   clickable: ".fileinput-button" // Define the element that should be used as click trigger to select files.
    // })

    // myDropzone.on("addedfile", function(file) {
    //   // Hookup the start button
    //   file.previewElement.querySelector(".start").onclick = function() {
    //     myDropzone.enqueueFile(file)
    //   }
    // })

    // // Update the total progress bar
    // myDropzone.on("totaluploadprogress", function(progress) {
    //   document.querySelector("#total-progress .progress-bar").style.width = progress + "%"
    // })

    // myDropzone.on("sending", function(file) {
    //   // Show the total progress bar when upload starts
    //   document.querySelector("#total-progress").style.opacity = "1"
    //   // And disable the start button
    //   file.previewElement.querySelector(".start").setAttribute("disabled", "disabled")
    // })

    // // Hide the total progress bar when nothing's uploading anymore
    // myDropzone.on("queuecomplete", function(progress) {
    //   document.querySelector("#total-progress").style.opacity = "0"
    // })

    // // Setup the buttons for all transfers
    // // The "add files" button doesn't need to be setup because the config
    // // `clickable` has already been specified.
    // document.querySelector("#actions .start").onclick = function() {
    //   myDropzone.enqueueFiles(myDropzone.getFilesWithStatus(Dropzone.ADDED))
    // }
    // document.querySelector("#actions .cancel").onclick = function() {
    //   myDropzone.removeAllFiles(true)
    // }
  
</script>

{{-- masking angka --}}
<script>
  // masking uang 2 digit
  function moneyMask(x) {
      let val = !isNaN(x)? x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","):0;
      return val;
  }

  var monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
  // Create a function to format the date as "d-M-Y"
  function dateMask(date) {
    var inputDate = new Date(date);

    var day = inputDate.getDate();
    var monthIndex = inputDate.getMonth();
    var year = inputDate.getFullYear();

    // Get the abbreviated month name
    var monthName = monthNames[monthIndex];

    // Zero pad day if needed
    if (day < 10) {
      day = "0" + day;
    }

    return day + "-" + monthName + "-" + year;
  }

  function escapeComma(val){
    return val.replace(/,/g, '');
  }

  function normalize(val){
    return parseFloat(escapeComma(val));
  }
</script>

{{-- masking no telp --}}
<script>
    var today = new Date();

    $("#telp1").on("change", function() {
        var inputValue = $(this).val();
        if (inputValue.startsWith("08")) {
            inputValue = "8" + inputValue.substring(2);
            $(this).val(inputValue);
        }else if(inputValue.startsWith("628")){
            inputValue = "8" + inputValue.substring(3);
            $(this).val(inputValue);
        }else if(inputValue.startsWith("+628")){
            inputValue = "8" + inputValue.substring(4);
            $(this).val(inputValue);
        }
    });
    $("#telp2").on("change", function() {
        var inputValue = $(this).val();
        if (inputValue.startsWith("08")) {
            inputValue = "8" + inputValue.substring(2);
            $(this).val(inputValue);
        }else if(inputValue.startsWith("628")){
            inputValue = "8" + inputValue.substring(3);
            $(this).val(inputValue);
        }else if(inputValue.startsWith("+628")){
            inputValue = "8" + inputValue.substring(4);
            $(this).val(inputValue);
        }
    });
    $("#nomor_kontak_darurat").on("change", function() {
        var inputValue = $(this).val();
        if (inputValue.startsWith("08")) {
            inputValue = "8" + inputValue.substring(2);
            $(this).val(inputValue);
        }else if(inputValue.startsWith("628")){
            inputValue = "8" + inputValue.substring(3);
            $(this).val(inputValue);
        }else if(inputValue.startsWith("+628")){
            inputValue = "8" + inputValue.substring(4);
            $(this).val(inputValue);
        }
    });
</script>

{{-- masking datatable --}}
<script>
  $(document).ready(function() {
      $('#datatable').dataTable({
          // scrollX: true,
          "aaSorting": [],
          columnDefs: [
            { orderable: false, targets: -1 }
          ]
      });

      $('#datatablex').dataTable({
          scrollX: true,
          "aaSorting": [],
          columnDefs: [
            { orderable: false, targets: -1 }
          ]
      });

      $('#dt').dataTable({
          // scrollX: true,
          "aaSorting": []
      });

      var datatable = document.getElementById('datatable');
      
      if(datatable != null){
        // Atur properti CSS width menjadi 100%
        // datatable.style.width = '100%';
      }

  });
</script>

@section('js')
@show
